<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Colme demo table</title>
    <link rel="stylesheet" href="../css/table.css">
    <link rel="stylesheet" href="../vendor/jquery-ui.css">
</head>
<body>
    <div id="configs">
      <div id ='layouts'>
      <button id = "addLayout">Add Layout</button>
      </div>
      <br>

    </div>
    <div id='cm-table'>
      <div class='cm-thead'>
        <div class='cm-tr'>
          <div  data-cm-span='8'>Sales Report</div>
        </div>
        <div class='cm-tr'>
          <div  data-cm-span='2'>Info</div>
          <div  data-cm-span='6'>sales</div>
        </div>
        <div class='cm-tr'>
          <div  data-cm-span='2'>id</div>
          <div  data-cm-span='2'>2011</div>
          <div  data-cm-span='4'>2012</div>
        </div>
        <div class='cm-tr'>
          <div  data-cm-span='2'>a</div>
          <div >1º Sem</div>
          <div >2º Sem</div>
          <div  data-cm-span='2'>1º Sem</div>
          <div >3º Tri</div>
          <div >4º Tri</div>
        </div>
      </div>
      <div class='cm-tbody'>
        <div class='cm-tr'>
          <div>00354</div>
          <div>Tomorrow may be to late</div>
          <div>15</div>
          <div>68</div>
          <div>99</div>
          <div>101</div>
          <div>35</div>
          <div>8</div>
        </div>
        <div class='cm-tr'>
          <div>00867</div>
          <div>A mística do número 10</div>
          <div>1</div>
          <div>8</div>
          <div>35</div>
          <div>8</div>
          <div>35</div>
          <div>8</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00354</div>
          <div>Tomorrow may be to late</div>
          <div>15</div>
          <div>68</div>
          <div>99</div>
          <div>101</div>
          <div>35</div>
          <div>8</div>
        </div>
        <div class='cm-tr'>
          <div>00867</div>
          <div>A mística do número 10</div>
          <div>1</div>
          <div>8</div>
          <div>35</div>
          <div>8</div>
          <div>35</div>
          <div>8</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00354</div>
          <div>Tomorrow may be to late</div>
          <div>15</div>
          <div>68</div>
          <div>99</div>
          <div>101</div>
          <div>35</div>
          <div>8</div>
        </div>
        <div class='cm-tr'>
          <div>00867</div>
          <div>A mística do número 10</div>
          <div>1</div>
          <div>8</div>
          <div>35</div>
          <div>8</div>
          <div>35</div>
          <div>8</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
         <div class='cm-tr'>
          <div>00364</div>
          <div>Bambi 2</div>
          <div>12</div>
          <div>18</div>
          <div>135</div>
          <div>85</div>
          <div>135</div>
          <div>85</div>
        </div>
        <div class='cm-tr'>
          <div>00354</div>
          <div>Tomorrow may be to late</div>
          <div>15</div>
          <div>68</div>
          <div>99</div>
          <div>101</div>
          <div>35</div>
          <div>8</div>
        </div>
         
      </div>
    </div>
<script type='text/javascript' src='../vendor/jquery.js'></script>
<script type='text/javascript' src='../vendor/jquery-ui.js'></script>
<script type='text/javascript' src='../js/jquery.colme.js'></script>
<script>
    $(document).ready(function () {
        var init = new Date();
        cm = new Colme(
            {
                resizable: true,
                draggable: true,
                toggleable: true,
                sticky: $(window),
            }
        )
    });

    $('.cm-th').each(function () {
      var th = $(this);
      var button = $('<button>', {'class': 'is-on', 'data-cm-id': $(this).attr('data-cm-id')});
      button.append($(this).text());
      button.click(function () {
        $('#cm-table').trigger('colme:hideColumn', [th.attr('data-cm-id'), $(this).hasClass('is-on')]);
        $(this).toggleClass('is-on');
      })
      $('#configs').append(button);
    })
    var layouts = []
    
    $("#addLayout").click(function(){
      layouts.push(cm.getLayout());
      var newLayout = $("<button data-i = "+ (layouts.length-1) + "> Layout-"+ (layouts.length-1)+" </button>");
      newLayout.click(function(){
          var d = new Date()
          cm.setLayout( layouts[parseInt( $(this).attr("data-i") )]);
          console.log("Took " + (new Date() - d) + "ms");
      });
      $("#layouts").append(newLayout);
    });



</script>
</body>
</html>